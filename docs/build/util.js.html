<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>util.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Bot.html">Bot</a><ul class='methods'><li data-type='method'><a href="Bot.html#Connect">Connect</a></li><li data-type='method'><a href="Bot.html#GetChannel">GetChannel</a></li><li data-type='method'><a href="Bot.html#UpdateChannel">UpdateChannel</a></li><li data-type='method'><a href="Bot.html#DeleteChannel">DeleteChannel</a></li><li data-type='method'><a href="Bot.html#GetMessages">GetMessages</a></li><li data-type='method'><a href="Bot.html#GetMessage">GetMessage</a></li><li data-type='method'><a href="Bot.html#SendMessage">SendMessage</a></li><li data-type='method'><a href="Bot.html#SendDMEmbed">SendDMEmbed</a></li><li data-type='method'><a href="Bot.html#SendEmbed">SendEmbed</a></li><li data-type='method'><a href="Bot.html#SendDMEmbed">SendDMEmbed</a></li><li data-type='method'><a href="Bot.html#SendCompactEmbed">SendCompactEmbed</a></li><li data-type='method'><a href="Bot.html#SendDMCompactEmbed">SendDMCompactEmbed</a></li><li data-type='method'><a href="Bot.html#AddReaction">AddReaction</a></li><li data-type='method'><a href="Bot.html#DeleteOwnReaction">DeleteOwnReaction</a></li><li data-type='method'><a href="Bot.html#DeleteUserReaction">DeleteUserReaction</a></li><li data-type='method'><a href="Bot.html#DeleteAllReaction">DeleteAllReaction</a></li><li data-type='method'><a href="Bot.html#GetReactions">GetReactions</a></li><li data-type='method'><a href="Bot.html#EditMessage">EditMessage</a></li><li data-type='method'><a href="Bot.html#EditEmbed">EditEmbed</a></li><li data-type='method'><a href="Bot.html#EditCompactEmbed">EditCompactEmbed</a></li><li data-type='method'><a href="Bot.html#DeleteMessage">DeleteMessage</a></li><li data-type='method'><a href="Bot.html#DeleteMessages">DeleteMessages</a></li><li data-type='method'><a href="Bot.html#EditChannelPermissions">EditChannelPermissions</a></li><li data-type='method'><a href="Bot.html#GetChannelInvites">GetChannelInvites</a></li><li data-type='method'><a href="Bot.html#CreateChannelInvite">CreateChannelInvite</a></li><li data-type='method'><a href="Bot.html#DeleteChannelPermission">DeleteChannelPermission</a></li><li data-type='method'><a href="Bot.html#StartTyping">StartTyping</a></li><li data-type='method'><a href="Bot.html#GetPinnedMessages">GetPinnedMessages</a></li><li data-type='method'><a href="Bot.html#AddPinnedMessage">AddPinnedMessage</a></li><li data-type='method'><a href="Bot.html#DeletePinnedMessage">DeletePinnedMessage</a></li><li data-type='method'><a href="Bot.html#AddUserToGroupDM">AddUserToGroupDM</a></li><li data-type='method'><a href="Bot.html#RemoveUserFromGroupDM">RemoveUserFromGroupDM</a></li><li data-type='method'><a href="Bot.html#GetGuild">GetGuild</a></li><li data-type='method'><a href="Bot.html#EditGuilds">EditGuilds</a></li><li data-type='method'><a href="Bot.html#GetGuildChannels">GetGuildChannels</a></li><li data-type='method'><a href="Bot.html#CreateChannel">CreateChannel</a></li><li data-type='method'><a href="Bot.html#EditChannelPosition">EditChannelPosition</a></li><li data-type='method'><a href="Bot.html#GetGuildMemeber">GetGuildMemeber</a></li><li data-type='method'><a href="Bot.html#ListGuildMemebers">ListGuildMemebers</a></li><li data-type='method'><a href="Bot.html#EditGuildMember">EditGuildMember</a></li><li data-type='method'><a href="Bot.html#SetNickname">SetNickname</a></li><li data-type='method'><a href="Bot.html#AddRole">AddRole</a></li><li data-type='method'><a href="Bot.html#RemoveRole">RemoveRole</a></li><li data-type='method'><a href="Bot.html#RemoveMember">RemoveMember</a></li><li data-type='method'><a href="Bot.html#GetBans">GetBans</a></li><li data-type='method'><a href="Bot.html#BanUser">BanUser</a></li><li data-type='method'><a href="Bot.html#UnBanUser">UnBanUser</a></li><li data-type='method'><a href="Bot.html#GetRoles">GetRoles</a></li><li data-type='method'><a href="Bot.html#CreateRole">CreateRole</a></li><li data-type='method'><a href="Bot.html#EditRolePosition">EditRolePosition</a></li><li data-type='method'><a href="Bot.html#EditRole">EditRole</a></li><li data-type='method'><a href="Bot.html#DeleteRole">DeleteRole</a></li><li data-type='method'><a href="Bot.html#GetGuildPruneCount">GetGuildPruneCount</a></li><li data-type='method'><a href="Bot.html#BeginGuildPrune">BeginGuildPrune</a></li><li data-type='method'><a href="Bot.html#GetGuildVoiceRegions">GetGuildVoiceRegions</a></li><li data-type='method'><a href="Bot.html#GetGuildInvites">GetGuildInvites</a></li><li data-type='method'><a href="Bot.html#GetBotUser">GetBotUser</a></li><li data-type='method'><a href="Bot.html#GetUser">GetUser</a></li><li data-type='method'><a href="Bot.html#SetStatus">SetStatus</a></li><li data-type='method'><a href="Bot.html#EditBotUser">EditBotUser</a></li><li data-type='method'><a href="Bot.html#GetGuildIDFromChannel">GetGuildIDFromChannel</a></li></ul></li><li><a href="Disnode.html">Disnode</a><ul class='methods'><li data-type='method'><a href="Disnode.html#Start">Start</a></li><li data-type='method'><a href="Disnode.html#Stop">Stop</a></li><li data-type='method'><a href="Disnode.html#Restart">Restart</a></li><li data-type='method'><a href="Disnode.html#LoadBotConfig">LoadBotConfig</a></li><li data-type='method'><a href="Disnode.html#OnMessage">OnMessage</a></li></ul></li><li><a href="PluginManager.html">PluginManager</a><ul class='methods'><li data-type='method'><a href="PluginManager.html#LoadAllPlugins">LoadAllPlugins</a></li><li data-type='method'><a href="PluginManager.html#RunPluginMessage">RunPluginMessage</a></li><li data-type='method'><a href="PluginManager.html#LaunchPlugin">LaunchPlugin</a></li><li data-type='method'><a href="PluginManager.html#RunCommandBind">RunCommandBind</a></li><li data-type='method'><a href="PluginManager.html#AddServerPluginRemote">AddServerPluginRemote</a></li><li data-type='method'><a href="PluginManager.html#AddServerPluginLocal">AddServerPluginLocal</a></li><li data-type='method'><a href="PluginManager.html#RemoveServerPlugin">RemoveServerPlugin</a></li><li data-type='method'><a href="PluginManager.html#MakeServerFolder">MakeServerFolder</a></li><li data-type='method'><a href="PluginManager.html#GetPluginByID">GetPluginByID</a></li><li data-type='method'><a href="PluginManager.html#GetInstanceByID">GetInstanceByID</a></li><li data-type='method'><a href="PluginManager.html#GetPluginFiles">GetPluginFiles</a></li><li data-type='method'><a href="PluginManager.html#GetCommandPrefixes">GetCommandPrefixes</a></li><li data-type='method'><a href="PluginManager.html#GetCommandObject">GetCommandObject</a></li><li data-type='method'><a href="PluginManager.html#GetConfigFile">GetConfigFile</a></li><li data-type='method'><a href="PluginManager.html#GetCommandFile">GetCommandFile</a></li><li data-type='method'><a href="PluginManager.html#SetConfigFile">SetConfigFile</a></li><li data-type='method'><a href="PluginManager.html#SetCommandFile">SetCommandFile</a></li><li data-type='method'><a href="PluginManager.html#GetScriptRequire">GetScriptRequire</a></li></ul></li><li><a href="Util.html">Util</a><ul class='methods'><li data-type='method'><a href="Util.html#arrayToOject">arrayToOject</a></li><li data-type='method'><a href="Util.html#GetSnowflakeDate">GetSnowflakeDate</a></li><li data-type='method'><a href="Util.html#pageResults">pageResults</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="Bot.html#event:ready">ready</a></li><li><a href="Bot.html#event:channel_create">channel_create</a></li><li><a href="Bot.html#event:channel_delete">channel_delete</a></li><li><a href="Bot.html#event:channel_update">channel_update</a></li><li><a href="Bot.html#event:guild_ban_add">guild_ban_add</a></li><li><a href="Bot.html#event:guild_ban_remove">guild_ban_remove</a></li><li><a href="Bot.html#event:guild_create">guild_create</a></li><li><a href="Bot.html#event:guild_delete">guild_delete</a></li><li><a href="Bot.html#event:guild_intergrations">guild_intergrations</a></li><li><a href="Bot.html#event:guild_memeber_add">guild_memeber_add</a></li><li><a href="Bot.html#event:guild_memeber_removed">guild_memeber_removed</a></li><li><a href="Bot.html#event:guild_role_created">guild_role_created</a></li><li><a href="Bot.html#event:guild_role_delete">guild_role_delete</a></li><li><a href="Bot.html#event:guild_role_update">guild_role_update</a></li><li><a href="Bot.html#event:guild_update">guild_update</a></li><li><a href="Bot.html#event:message">message</a></li><li><a href="Bot.html#event:message_delete">message_delete</a></li><li><a href="Bot.html#event:message_update">message_update</a></li><li><a href="Bot.html#event:message_presence">message_presence</a></li><li><a href="Bot.html#event:typing">typing</a></li><li><a href="Bot.html#event:setting_update">setting_update</a></li><li><a href="Bot.html#event:voice_update">voice_update</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-NewDisnodePlugin.html">NewDisnodePlugin</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">util.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var Logger = require("disnode-logger");
var Axios = require('axios');
/**
 * Useful functions
 * @constructor
 * @param {DisnodeObj} disnode - Refrence to Disnode Class (disnode.js)
 */
class Util {
    constructor(disnode) {
        this.disnode = disnode;
    }
    /**
     * Converts an array to and object using a key as the object name. Useful for quick object look up
     * @example
     * var array =  [{id:"123", name: "Phil", age: 21}, {id:"456", name: "Fire", age: 22}]
     * var object = this.disnode.util.arrayToObject(array, "id"); //Can also use nested properties like 'user.id' in {user: {id: 123}}
     * //object = {123: {name: "Phil", age: 21}, 456: { name: "Fire", age: 22 }}
     * //Easily look up via ID using: object[id]
     * @return {Object} Converted Object
     */
    arrayToOject(array, selector) {
        var obj = {};
        for (var i = 0; i &lt; array.length; i++) {

            var key = this.ObjectbyString(array[i], selector);
            obj[key] = array[i];

        }
        return obj;
    }
    /**
     * Convers a Snowflake ID to a JS Date Object
     * @param {String} resourceID - The Snowflake ID you want to convert
     * @return {Date} Converted Date
     */
    GetSnowflakeDate(resourceID) {
      return new Date(parseInt(resourceID) / 4194304 + 1420070400000);
    }

    CommandHelpBuilder(command, description){
      return "`" + this.disnode.botConfig.prefix + command + "` - **" + description + "**";
    }
    ObjectbyString(o, s) {
        s = s.replace(/\[(\w+)\]/g, '.$1'); // convert indexes to properties
        s = s.replace(/^\./, ''); // strip a leading dot
        var a = s.split('.');
        for (var i = 0, n = a.length; i &lt; n; ++i) {
            var k = a[i];
            if (k in o) {
                o = o[k];
            } else {
                return;
            }
        }
        return o;
    }
    /**
     * Pagify results
     * @param {array} arr - Array to be paged
     * @param {integer} page - Page number
     * @param {integer} perPage - Results per page
     */
    pageResults(arr, page, perPage = 10) {
      var returnArr = [];
      var maxindex;
      var startindex;
      if (page == 1) {
        page = 1;
        startindex = 0
        maxindex = perPage;
      } else {
        maxindex = (page * perPage);
        startindex = maxindex - perPage;
      }
      for (var i = startindex; i &lt; arr.length; i++) {
        if (i == maxindex) break;
        returnArr.push(arr[i]);
      }
      return returnArr;
    }
    JoinParams(params, startIndex = 0){
      var finalParams = [];

      for(var i=0;i&lt;params.length;i++){
        if(i >startIndex &amp;&amp; i &lt; endIndex){
          finalParams[startIndex] += " " +  params[i];
        }else{
          finalParams.push(params[i]);
        }
      }

      return finalParams;
    }
}

module.exports = Util;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Jun 21 2017 19:45:49 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
